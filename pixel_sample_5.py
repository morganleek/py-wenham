from PIL import Image

im = Image.open('david-full_3.jpg')
pix = im.load()
# Get size
size = im.size

xOffset = 0
yOffset = 0

svg_circles = ""

for y in range(0, size[1], 24) :
	xOffset = (y % 48)
	for x in range(0, size[0], 48) :
		xFinal = x + xOffset
		yFinal = y
		radius = 0
		if sum(pix[x + xOffset, y]) < 750 :
			radius = 18
			# for xCrawl in range(x + xOffset, x + xOffset + 20) :
			for xCrawl in range(0, 20) :
				if sum(pix[xFinal + xCrawl, y]) > 750 :
					# radius = ((xCrawl - (x + xOffset)) - 1) * 2
					radius = xCrawl
					break
		
		if radius != 0 :
			# svg_circles += "<circle cx=\"" + str(xFinal) + "\" cy=\"" + str(yFinal) + "\" r=\"" + str(radius) + "\"/>\n"
			xFinal -= radius
			svg_circles += "<use transform=\"translate(" + str(xFinal) + " " + str(yFinal) + ")\" xlink:href=\"#image\"/>\n"

# print("<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"" + str(size[0]) + "\" height=\"" + str(size[1]) + "\" viewBox=\"0 0 " + str(size[0]) + " " + str(size[1]) + "\">")
# print(svg_circles)
# print("</svg>")

# print ("<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"" + str(size[0]) + "\" height=\"" + str(size[1]) + "\" viewBox=\"0 0 " + str(size[0]) + " " + str(size[1]) + "\"><defs><image id=\"image\" width=\"40\" height=\"56\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA4CAYAAACPKLr2AAAXwUlEQVRoga2aeYwl2ZXWf7FHvH3Ll/uetWV1rb0V3dPudrfdhfEytGVjD2BrRrLAIGMQwoCGPxCMPMIGiZFGBgshS+DBxjaWGHrGNba73Eu1e62uytq3rMrKPV++fYsXe6CIbDx4k1uC+1cqMzLeud8995zv+84T/vAPPocYhlj9NuWpMgEB0SpPTqMlkriWQ0aV8QKXVrPLwHZxPIF2tYE7aHHgxDGyufIpz7Y+7dmO5tlmOT80drba2v4P7eoWgZ8mEMEx+yBIjE9M4Ay61Ds26aFxJibKWKbLnRtLjIzNk0oPIeJw7foSiWQSkfe8wr0HBQEfAdPs4XsBU1NHvjw9Ovd60cj+QyPk8wnf/3hCkL92+OgHX8/lpvLN2pbk2JYhKwphGO69Rnjvnyr/pgeid0YvlTUdLS3Q394Rwv7gs8eOnfji6MTo/PT4WMpyXIYm5yiOTtCornP/+jskNu+emj/+xFJ6aGL80pvnLttm76l8eaTz7i7//wQYb1YSSWSzdOuV/L233vpkNpP+u6dOPX0yl83SqNznwo8u0Wu2cJ0BjuXiIyGrCpXlm/T6tamDj54m88GPnXjj5RfPyELwuKSphFb4/x5gdPayIKAlDZaXlh59+4c/+sH84uHC/gMnOff8CyxffgPLctja6nJocRTPE/CsPoKkcPTxh9HUFNd+/BKdyjYnTn+SYwdmH7v69ot/VtP1z2qG1vB9H9d14mMXhAjTX43qLwUYPyYIDPpdJFVh9/aNkzdeefONsen9KEqKr3/l6yQKRY4++gFa9RaZsRpZw2Nns87I7AFOPnmK7ZUVLr/5DoYu0660uPD8d5HFgFxp4sPtytZymEz8VrY0vZXID58KQ+G85zg1z3Pjz30PCAp7u1Eldrc2tfUrt//92NwimXyOervP3/rnv8/iwUm2bl6ksrGD2U1y6/xlkgmNkelJWttVll55DVk3UJMara1dqitr5MdGmB6eIpfS81an9sPJ/QfIjZUmBlZII7D/2HYHX3RdD9+HUPxLRKVnnj4Z/+i5NolckkAIMVJJupVG5v4bS29PTs8+pBoJUsUyn/p7/wC5v835H3yPWq2BPWjS2NnG9kQkSWH1+m0cp8/UwgyebdNq9hk4PlquQCabRvG6aIaMpoiZsN/O2O1NSkOj7D/+W4+mckMTeM7zxWwSQ5NY39xEVuQ9BPfyQMBQVbRUktZOVb38wpuv7tu3sJjN5uOdTE4t8D++9h/ZuPk62XQyrl2hFKFcI10cZnRhllRhF8UAH5fC+ARiqkdjYwNVlQndAa4VwM42iiriiiG2M4DbbxLYDnlR/Jzv1+5s3l//arXr0Kg3mUwayBF8UaTtmsnqjZV4p5dfe+crBx44fuSJZ5/ljXM/5crFG9h/HgUmMlWWubl0ndWVFnMHJ5haXOTQ40/HqGnJDKZpMmhs4g16bK1vsZMv4La2UcMedsvFKBnoRganZxIg0PY3aO1ukBnbz/D+U/+6urJ1xayvnRmdmCGZ0pEj9GRRJJHOIMkS5378xkNDw6V/9MGPnObiube4vvQOjWqVZ557jkcfP8ndy0sEiRLFA12OPvwws4ePxZU/mS8xPHWExr1LrK9co716k6DbRyFgavEwmFW69QZGKoGRL2NEF0BVkVNZEuVZRg6cIpEuaEYq+wejI/kzkiBSq20jx5VYkpnat8D2yoZsW8E3n/v0J3jn5bOc/+mbzO8f4eOfej9jB05SqzY4fPpv8MzMAdYvnePCiz/ENB2GJ8oEgceVs3/C2W98neVLd8nnMhx5cIZcxmB9aY1MqUy73qPf6nNgchZZV3H7bXIzJxk++CShb9Ktb1BZvngWPyQkwOx2kUM/oNdoxbf3zVfe+uKJk4cPtnfWuHv3Jicee4B8MYerZqhU2jh9i/ULr9FeWcbutEkV5siN7UPRHDaXb3HjtTcpjI0y1nUoTc1z+LkPYWgyO7dvsHX1OulMEmfQp9dsU5jZR6I4T6owjLlzE8eycM0KBN7LhUyGzY1VqtUmcigKKAmDjfvrJHTlbw+PJLl++R1KxSy+6yClh8iPzGA3aohuB2swYG3nLo7pMH30UVISWPU2qmyQSyTo93UOPnic6WPHUPUSgdslLQpMH1xAEUKa1SqCkSAzOkkYypjbV0gVxpEEg1qjWRk0d35ydeU2Fy++SWnhWFRmHkRJGmzeX/1SThc+26vV6NY6hK6AKKvkEgr9agXXbFAan+TkBz7BwVOncQWVduU+ZmWdZm2X5uot1i8vYXYGaJpBp1KnV6vSvP4Wrbsr5EcmcM0BgpEklcuiyCKpYglB0lCEgHRhglRxMtWpVoR3rl39iWdkmV04iPTsMydoVmrq+s3lb4fOIKOpGosnjjD7wCEmZ0bwej2sQZ9seQxZUVl6bYmz33+e0HaYO/wg5X376TRaCLbD8PwCGV1ED02URBrZcwk7HUbmF1CjEpYrky5Psn3hPHa3R/ngItmph3HNPk6/Sr/VoLmz+r7yxCTHn/rrL+uagWwHPrs7lX+M64wXp8YYH8qhy5BNa1RXt/DxGVgy1UtreIMrXHn9ItfOr3PoUI7Jr/4xqXyGQiYLhWG6WxsYk/MkE2nsbge7WycxNoqeyaFlS+SmD+EHAf3Vu1RWrnP/lRd58HdOUtj/NI3mGo1rL2LbHrW7t3/fE/X/Vp4/sSx7lq81K40vlEZLjJWztHdqFItDbNy8x/LyNvOH5vnRn72K1aoxNZJjqpxn5nSWkYX9gEln+z5eu4uo9smXRiguPIBv9gkdh8AxERWFRHGCRK6MIEkEvs3ih38PznyD1UtvUJz7Cw68/7Mk80MUpg8zaHXYWV1Tr7/ywo/zE3Mn5a219QVvYI2XJgrYXYv0SAnTMvmf3/8pxx85QrPWQ3VsHjhxmKHhEumUQa5QIFkoorgO6eQYHhqJZI702DRyegilpBIKUlwqRElBUhQIAgLXQRAVctNHOfBXf48b58/z+nf+K0KqQC6vIQvRYwK6LILrztx47ewfSg8vjpdTovf384ZIzxFZOHqQTt+mb4pkxBBvMGCsXOLg4YNM7DvI2PQCo4eOkx2eIGUU0BM5MsPTZIuTiKKEJKlIuo4oiYiShBCF6TmEgR8zTCEUCVyPTHkCz7e5+soZ2qs3qKysEFh1XNfi/Muv0m13CRX9J3LS0B+XXRkfMc6V4tgMzZZDXhfQRJFMLk02nY5vpirJ6IkMhpqMdYYcCiiyhmpk93iaFyJKMkHoQxD+TCX8JVES9miwZ+N0XSZPnuKU83lq965R39hg+eoNZo/MkinmUJXsrVyp9C9lz+o/NzFZptv3CYUQIRBYvbsdc7r5xx4hnc+TSKZQIwEjSvEHh0Gwh44kI4gQmC1CPYmoJUHcO85fueLfC+/GaKElChx49GlSpTGC8AWuXrpDvdoimTMY+SsPvDT/yKOW2Lacc3IqO0jnMvRabe5du0Xg+jHtwg/IJNMkUhl0I4WoqERNyHOdOLeiIH3Pw/McvCAglNUYpTDaxC8EGEsbH4QgJAgDIuInoODYbkxQirP7yIwOU2u7rK3UufnWxQ/oCU0WHZTe9Vtbhq6rVBtdXnvtUtQKkfVk3DVEUYiZCb6HpKggSwSei28NCD0v7sERK4nFlWsThj4hIkL4C+w4DGMiGkR/DUDwLASvj9uusnbhJRord+LL1w8ERFVDccz5fqMzJ0/PTry69OqSkzZUdXOnw+Z2g6NH9iEJCt2+GW87RKDTqiEZSbRkGj+GIkQQRURRRPDdqIcS+A74OqKsxIG+qx/2jjYMfiYnfCGqriGypKKrOr5pcvfiElt1C13XkESPycMLZ7zQvy22Wt0L1ab5k8vX1ikPl/BDiStX7rC526TRM7E9Fz1biEhjfJS95g6+3UeWtRhdWU/HHxoFF0Y56gcQ3dr4GMM95MJ39Wvwf3TsXqARUcmPzJEujGMkdPqmjUBArpDBKI3cU1UNMZFJomfSryxduU90KuXxErYX4ASw2+jQrDcQZBFBlui1d+MO4Q8GseyLjiJCRlISBJ5N6PQJPTuud0gSiGJ8qeLLK4jxe5Cif5RiBh/4LpqWoDi1iCeo6IYBgowS4dvpDCUyRcTxqVGOnJj774l0gneWlqnXWkiShKbIDNyA9sDCswa49oBQELHNPv1OA6fbiK0MUZYJ7G58aYIgxPP6BJH34AUxSqKmIxkpJD2FFKpIbhjrF0Ez4qB9z8coDqNm8uiKRCmTRPEDQsc9KiUzyG7HYm56YqU0Urqzem9nXyDaJA0VQRSIsjnqnbKukzPyZCLu1qkSxoU3wLe7cR5G6KHoCI4NnhjXQiE0EEQNOfAJXRPH83GaDQKrhyQJkEwSSBJeGO6VLFFEj/VxyO7qLqn9/Z4dOMhW38SzLFEOXDUSQUF0a6MyIUq4BNiWhSQKZIdK6LqBKBawBl2CCJ0w2mkv1ome2SOIbqasEkS3Welg1reo3rtCMOjE7oRSHEZMFnDaLURVJDW+H+JulIiZku8GKE6bhYV5Hjv921/YvXsH+d7yMlZnsDhoDaZThkbXcuOjilqVrGpcu72G1f5zFo/uo5jP0q53qff6GIkE++bmGZ+fRZQNZKOIH+WV2cTp1Oh0WzQ277B54wbV9gA1n6cwMUO+kGNk4SByOofjeUT0Lhz4aHKUsiFHFudYfOgxTp7+nYpnmshrN9YQPEEVrTBu1rIkxXksx5ZbwFqjQzZtsLFZoVI38WWDdn2A27zH8rWbpJMGxxYXOPzUR0jPPUjoWdjdHTrtBqBTnj/Gtd0+r1+5wqniUd6fmKO/vsrQg6PohUkEMUTWNNzegKzs8czf+aeM5ke48NJf7FsfOPdl3wkQA0GUCUmrSnwrgyjvRLBcn3w+TTabpDfQ2PVV7tR2eOixp3hifpK3v/E1vn/2Vba3dlk4+QjlbAbJmEbpZHF8kUSoIwo6H31wjMOPPMmh/UeZW5ii36wjuD0iSy4iB3oqTz6TY+jgIUaOvw+/b1O5dzO73dtGfvJjz9DYrtXeOPN2YIi66AYBniTGlNwwEkiCwMWrd/nAqTGe+8zvcrfZYu7AUWaHx0nVKtze3uXm3S3qu1Wm3QGBlEAIJcr7T9BRdRrXL5CpWzwxcQAlLdPtNtGTBlJovFuiVGyzzdSRBzC6bdx2g54v1WVD++Hs+CTS3/z0XyNdzLbWbqw83m/3552ozSkKhbzB/vlxZqZGcRCoba0yFAw4MjNHGp9m5T7GzDjdxgbd7U0Wjxxh4sCxOLggcAk1jUCMmI0HmggJBQwdTTViNhMV9qjdRyS2s7tB4JoUs8Ok0sO0Pffe/fWVP8L1kdc3d0gX04wvTv9J/eyFZxET2JYdX/eRoSEWjh1h/sjROB9Fz6ca9EnYAYHl0Km0yWVSzO2bxekN8COSIUU320aUJZKZIYwHhvC8AVHVilpe1KMlJRV3jDjIQMCNSpFjkz78JFpmmN7a9aum2yNtpJBHJiYZGhlFl9L/a/3S3abpC/l6v49je7iOhaFrTC0cIqrqspEkjBAye3Qrm4SVNVTfj3KYXkQwHRcpbeD16vhtByGnohjp2GsMvEFMWiPEYsYV89eIDdlg2+RnjpCa2gc9i+1G5QeWbSNFjSBTKDI+vcATH/5Qe9+JI9+ya3Xmx8t4fkC706extkqvWkGXdfRARLMtJMuKLY1Id7SqLeqtLs1WE7ffiX2eMO4qQWwYRawnqovYDoRyzBejIh96PqE1wBt0GDQryGoaFVivr79+b3P5m/q7nUaMuNlOdZOVlbssvu/hf5MfyvUinRr1y0anT3Wrgtvt0d/ZwNndJTTNWAz5jk0ilUTVFVxBwLZtbLO3R2b1JJKWIPR9fLMFoRuTjSjnIjSFiEC4EaJu7KxFzaGQLWC12u1XXz/zu5KmIPhOnMvSbz/3LJbvU61sM3ForpPNJapXX3z7Y74sk8ioZLUEhWQSVQBJkWOa5FtmXDN9z2X5zj0Ggz6Hjh9h5sBxtNxoTFail0eBOp0Kg41bMS2Lin9M+h1rj1iEAW7cHi3MTrf17ee/dWp1d+u2piRQVAVF1ZA++rEPIukq2WKCTD7N+P6ZC7ubld7G8v1nRVVCkySG8mnEn/E9l8D3cRyLK2+9QbI0FIv4QibHvpOPoaSKe20v9FGNTNwSe7v3ad65gBDVWUXF7bbxXQsvcGIK1l27fv87f/qto1d362tJxcC2BhSKBRRFixD8IMgyiiagaCqapoHsvu6H7qu1reZnJUkmoctxXYxIqSQrIAncuPwOL5/5CSNDZVLpFOXhMcYPP4ReHkHwfYJuk8a9K2i5IdJzR7Atk+qdyzhmGz1XjNlRdBpI0N3d+BcJSXo5lyvS6nRQdT0OUJLlvUFODHvE26K829xGtGz2HZo7K8niSr3VYXV9m2qjhe27dHotBlaHRqXCzbUG/+XbZ7jw9hLphIYWoVuv4pot6pv3YpNS8iVEO2T44GOMP/Q0veomu1dfRU7qiFGL61TZ3ty+Jtg+k/JeGsUS4leZ6JHAHrQ7BL2oaKbRdfVafbcza5Zz9M0+buijeCatqo0SqAwVS1y4v83yuavYA4+PNxokc0VyE+MovkkmO8ZgbRkn6GOaW2jZDGNHH6J24xJur4mcymH3zWBQ3VyNnDRPT8YDkP/b7P+5ACOFFlEfUU+RKJTID5fPri1vfsQJQizXZTvym2UFTVXpmh1mp8tIaki7b9Jzamy21snJAd79HUppnV7QRcuM025UGNg93LU2uckZhg+eiJm/36tF5PdNUeT+ULlEJ5QIB/2f09M/F+AeMxfomhZuo8vU/tnv3rx468urq5XEbDT065ksr22gJSTqjR5j45McL06TyhhMjJc4eOppnECjfXsJtGGsgYjlWij6POX9k9Q330EIPGRFo9dv4LWqbF17+3a9uo3ZrqGWJpFl+ecmZb80J4nnfaFHp1UlW05sjc0Mf//O1dXP3Lq9xunHj5AvZajuNmjsely5skYxn2H/WAJf0dg9d5vc2CRD+RNoRhZZShNKAflDs2gFA9/ZiMHpmR2s5i6bV5e4d2XpnBxVi0w+Jq2h6fxcPL8UYHRzIkFz/ZULeLZD6AvfTGeTn7m7VmHr4BTPfugp+rUm06MNzrzwBvWNGqPzx5mfPYmazaOqBtmZ/eT2HcCOjra3Rqi6sWsVCS83AKvfobZ6l0Z1Y+vYRz/3baM0QdDeYXP5IkGkv9F+Fs8vjWOjI44qfqPSYX2lTrdr/ziVUL8WScDzF29x8dW3kHQjRvKRkwukSgZ3dm7iqSbZ2VG0qTKm02DjykvUqhcQ0gqh7+0ZR1qKQbeGVd+kurnCxPEn/9MD7/+IOX34BJnSWDyQ/MX1K0ZhezJRjqaSkonjusiy+AVZFI63+97jl2/eI1NIIQQipaEipx49yr3l27xy7nuMrLxGIpEmk1QpTc8xfPRJVD2B09vFau9gO3bsyfS6DYqTh87PHTv9r+xuN+4wnt1HiIyeX5jX/fpxbCTqxD2jx+w7UZCflw3pyk5rwK3ry0zOTqLLMocO7WPf7DzRdD1bzpNJ5Emk85QPnETTc/iOhdNvYbcqoCVivey6MHnokS9FBdkd9BGM1N6w+1es3zjQ9ryogEeCILw6sJ1/pg2kr0QiyKjUGRkewg0D8qU8wxMT5EamUGUVx3IIvIBe5R6+beKYVQJVBE2lvXKPodH9fzo0u/iSbXYiTrLnQvya9RsCDGN7LXIIov05rv9V0/IerncGnwiDKulMmtbuFoPGLiPjk2jdPG2nh99vksgVEFUDz2wjJA1CWWbz9iUUdej7YwdPfUJT9XjC5UbGwK+z694LgvGK2JcookgCrbb1SSEMvqcRfOL23Q3G8kmGc1o8WgjbOwR2E6vVwnYcjIQcOwboSVYvv04iNfLdB574+KdCQcExezHr3kPv13914r0F+K6/F5sNItQ7zicTivJvbaf5T8y+iSzl0bY3GZg97IiYRk/rOr6cRDa7bF55m4SR+878wx/+dEQ+LLOPlIja2m9e7znAOMiIfEQ3jpD7tf6XhhLyTVkU/vPObo/A30Ha3qXT6hGKIqnsGpoYkh8Zbw1PHfjy4UdP/zvb9+n3WrEz9p6+VgH8b5WcwyQ8vokUAAAAAElFTkSuQmCC\"/></defs>"
print(svg_circles)
# print("</svg>")